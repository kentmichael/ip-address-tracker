"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Map=_createClass((function e(t,n,i){var o=this;_classCallCheck(this,e),_defineProperty(this,"searchIP",(function(){var e=document.querySelector("#input-ip"),t="";o.inputIP.value&&(t=/\d+.\d+.\d+.\d+/.test(o.inputIP.value)?"&ipAddress=".concat(o.inputIP.value):"&domain=".concat(o.inputIP.value)),fetch("https://geo.ipify.org/api/v2/country,city?apiKey=at_qDLKzQBDXrbfWr20zJqbFAP2elzlr".concat(t)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){o.displayMap(t),e.style.outline="2px solid lightblue"})).catch((function(t){e.style.outline="2px solid hotpink",console.error(t)}))})),_defineProperty(this,"displayMap",(function(e){var t=e.ip,n=e.location,i=e.isp,r=n.region,a=n.city,c=n.lat,p=n.lng,u=n.timezone,s=document.querySelector("#ip-address"),l=document.querySelector("#ip-location"),d=document.querySelector("#ip-timezone"),f=document.querySelector("#ip-isp");s.innerText=t,l.innerText="".concat(r,", ").concat(a),d.innerText="UTC".concat(u),f.innerText=i,o.searchInMap(c,p),o.inputIP.value||(o.inputIP.value=t)})),_defineProperty(this,"searchInMap",(function(e,t){var n=document.querySelector("main"),i=document.querySelector("#map"),o=document.createElement("div");i.remove(),o.setAttribute("id","map"),n.appendChild(o);var r=L.map("map").setView([e,t],13);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1Ijoia2VudG1pY2hhZWwiLCJhIjoiY2wxYXFrNzYwMDBpMjNrcG03NmZibG1oaCJ9._XlkoT35F9vnidHeLvH4oQ"}).addTo(r);var a=L.icon({iconUrl:"../images/icon-location.svg",iconSize:[25,35],iconAnchor:[22,94],popupAnchor:[-3,-76]});L.marker([e,t],{icon:a}).addTo(r)})),this.formIP=t,this.inputIP=n,this.proceedBtn=i,t.addEventListener("submit",(function(e){e.preventDefault()})),i.addEventListener("click",this.searchIP)})),formIP=document.querySelector(".input-container"),inputIP=document.querySelector("#input-ip"),proceedBtn=document.querySelector("#proceed-ip"),displayDefault=new Map(formIP,inputIP,proceedBtn);displayDefault.searchIP();
//# sourceMappingURL=script.js.map